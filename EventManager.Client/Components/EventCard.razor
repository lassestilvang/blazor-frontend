
@using EventManager.Client.Models

<div class="card mb-3 shadow-sm">
    <div class="card-header d-flex justify-content-between align-items-center">
        @if (IsEditing)
        {
            <input @bind="Event.Title" class="form-control me-2" placeholder="Event Title" />
        }
        else
        {
            <h5 class="mb-0">@Event.Title</h5>
        }
        <button class="btn btn-sm btn-outline-secondary" @onclick="ToggleEdit">
            @(IsEditing ? "Save" : "Edit")
        </button>
    </div>
    <div class="card-body">
        @if (IsEditing)
        {
            <div class="mb-2">
                <label class="form-label">Date</label>
                <input type="date" @bind="Event.Date" class="form-control" />
            </div>
            <div class="mb-2">
                <label class="form-label">Location</label>
                <input @bind="Event.Location" class="form-control" placeholder="Location" />
            </div>
            <div class="mb-2">
                <label class="form-label">Description</label>
                <textarea @bind="Event.Description" class="form-control" rows="3"></textarea>
            </div>
        }
        else
        {
            <h6 class="card-subtitle mb-2 text-muted">@Event.Date.ToShortDateString() | @Event.Location</h6>
            <p class="card-text">@Event.Description</p>
        }
    </div>
</div>

@code {
    [Parameter]
    public EventItem Event { get; set; } = new EventItem();

    [Parameter]
    public EventCallback<EventItem> EventChanged { get; set; }

    private bool IsEditing { get; set; } = false;

    private void ToggleEdit()
    {
        IsEditing = !IsEditing;
    }
}
